"use strict";(self["webpackChunkroommate_match_vue"]=self["webpackChunkroommate_match_vue"]||[]).push([[574],{7574:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});r(7658);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"background-register",staticStyle:{height:"100vh",display:"flex","align-items":"center","justify-content":"center","background-color":"#152c56"}},[e._m(0),t("div",{staticStyle:{display:"flex","background-color":"white",opacity:"0.85",width:"50%","border-radius":"30px",overflow:"hidden"}},[e._m(1),t("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[t("el-form",{ref:"registerRef",staticStyle:{width:"80%"},attrs:{model:e.user,rules:e.rules}},[t("div",{staticStyle:{"font-size":"20px","font-weight":"bold","text-align":"center","margin-bottom":"20px"}},[e._v("欢迎注册后台管理系统")]),t("el-form-item",{attrs:{prop:"number"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",size:"medium",placeholder:"请输入学号"},model:{value:e.user.number,callback:function(t){e.$set(e.user,"number",t)},expression:"user.number"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",size:"medium","show-password":"",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t("el-form-item",{attrs:{prop:"confirmPass"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",size:"medium","show-password":"",placeholder:"请确认密码"},model:{value:e.user.confirmPass,callback:function(t){e.$set(e.user,"confirmPass",t)},expression:"user.confirmPass"}})],1),t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-phone-outline",size:"medium",placeholder:"请输入手机号"},on:{input:e.handlePhoneInput},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),t("el-form-item",[t("el-button",{ref:"loginBtn",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.register}},[e._v("注 册")])],1),t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{flex:"1"}},[e._v("已经有账号了？请 "),t("span",{staticStyle:{color:"#6e77f2",cursor:"pointer"},on:{click:function(t){return e.$router.push("/login")}}},[e._v("登录")])])])],1)],1)])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"absolute",top:"10px",left:"10px"}},[t("img",{staticStyle:{width:"20%"},attrs:{src:r(2330),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{flex:"1"}},[t("img",{staticStyle:{width:"100%"},attrs:{src:r(2437),alt:""}})])}],o={name:"RegisterView",data(){const e=(e,t,r)=>{""===t?r(new Error("请确认密码")):t!==this.user.password?r(new Error("两次输入的密码不一致")):r()};return{user:{number:"",password:"",confirmPass:"",phone:""},rules:{number:[{required:!0,message:"请输入账号",trigger:"blur"},{validator:this.validateNumber,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:this.validatePhone,trigger:"blur"}],confirmPass:[{validator:e,trigger:"blur"}]}}},created(){},mounted(){document.addEventListener("keydown",this.handleKeyDown)},destroyed(){document.removeEventListener("keydown",this.handleKeyDown)},methods:{register(){this.$refs["registerRef"].validate((e=>{e&&this.$request.post("/user/register",this.user).then((e=>{1===e.code?(this.$router.push("/login"),this.$message.success("注册成功")):this.$message.error(e.msg)}))}))},handleKeyDown(e){13===e.keyCode&&this.$refs.loginBtn.$el.click()},validatePhone(e,t,r){const s=/^1[0-9]{10}$/;s.test(t)?r():r(new Error("请输入正确的手机号"))},validateNumber:(e,t,r)=>{const s=(new Date).getFullYear();/^\d{10}$/.test(t)?t.substr(0,4)<1956||t.substr(0,4)>s?r(new Error("学号格式有误")):r():r(new Error("学号格式有误"))}}},n=o,a=r(1001),l=(0,a.Z)(n,s,i,!1,null,"fc58893a",null),u=l.exports},2437:function(e,t,r){e.exports=r.p+"img/register.e8cae87a.png"},2330:function(e,t,r){e.exports=r.p+"img/school.a85773f8.png"}}]);
//# sourceMappingURL=574.e7e1f55c.js.map