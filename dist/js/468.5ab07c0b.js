"use strict";(self["webpackChunkroommate_match_vue"]=self["webpackChunkroommate_match_vue"]||[]).push([[468],{7468:function(e,r,s){s.r(r),s.d(r,{default:function(){return n}});var t=function(){var e=this,r=e._self._c;return r("div",[r("el-card",{staticStyle:{width:"50%"}},[r("el-form",{ref:"formRef",staticStyle:{"padding-right":"20px"},attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"原始密码",prop:"password"}},[r("el-input",{attrs:{"show-password":"",placeholder:"请输入原始密码"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),r("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[r("el-input",{attrs:{"show-password":"",placeholder:"请输入新密码"},model:{value:e.user.newPassword,callback:function(r){e.$set(e.user,"newPassword",r)},expression:"user.newPassword"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[r("el-input",{attrs:{"show-password":"",placeholder:"请确认密码"},model:{value:e.user.confirmPassword,callback:function(r){e.$set(e.user,"confirmPassword",r)},expression:"user.confirmPassword"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.user.phone,callback:function(r){e.$set(e.user,"phone",r)},expression:"user.phone"}})],1),r("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确认修改")])],1)],1)],1)],1)},a=[],o=(s(7658),{name:"PasswordView",data(){const e=(e,r,s)=>{""===r?s(new Error("请确认密码")):r!==this.user.newPassword?s(new Error("两次密码不一致")):s()};return{user:JSON.parse(localStorage.getItem("ecut-user")||"{}"),rules:{password:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],confirmPassword:[{validator:e,required:!0,trigger:"blur"}]}}},created(){},methods:{update(){this.$refs.formRef.validate((e=>{e&&this.$alert("确认之后将退出并重新登录","注意",{confirmButtonText:"确定",callback:e=>{"confirm"===e&&this.$request.put("/user/password",this.user).then((r=>{1===r.code?(this.$message({type:"info",message:`action: ${e}`}),this.$message.success("保存成功"),this.$router.push("/login")):this.$message.error(r.msg)}))}})}))}}}),l=o,u=s(1001),i=(0,u.Z)(l,t,a,!1,null,"1be108d8",null),n=i.exports}}]);
//# sourceMappingURL=468.5ab07c0b.js.map